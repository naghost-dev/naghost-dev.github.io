<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cocaleros - Daily randomizer</title>
    <script src="https://cdn.jsdelivr.net/npm/vue@2.5.16/dist/vue.js"></script>
    <link href="https://fonts.googleapis.com/css?family=Roboto:100,300,400,500,700,900" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/@mdi/font@6.x/css/materialdesignicons.min.css" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.min.css" rel="stylesheet">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no, minimal-ui">

    <link rel="icon" type="image/x-icon" href="https://download.seaicons.com/download/i48612/dapino/summer-holiday/dapino-summer-holiday-palm-tree.ico">

</head>
<body>
    <v-container fluid id="tabla" class="grey lighten-5">
        <table>
            
              <tbody>
                <tr
                v-for="value in rowsCreated"
                >

                    <td><input type="checkbox" :name="value.name" :id="value.name"></td>
                    <td v-on:click="newEmoji(value)"> {{value.emoji}} </td>
                    <td  v-on:click="showMenu(value)" > {{value.name}} </td>
                    <td :id="'menu-'+ value.name" hidden>
                        <span  v-on:click="first(value)">
                            <span class="mdi mdi-chevron-double-up"></span>
                        </span>
                        <span  v-on:click="upTop(value)" >   
                            <span class="mdi mdi-chevron-up"></span>
                        </span>
                        <span v-on:click="downBot(value)">
                            <span class="mdi mdi-chevron-down"></span>
                        </span>
                        <span v-on:click="last(value)">
                            <span class="mdi mdi-chevron-double-down"></span>
                        </span>
                        <span  v-on:dblclick="deletef(value)">
                            <span class="mdi mdi-knife"></span>
                        </span>
                    </td>
                </tr>
              </tbody>
            
        </table>
    
</v-container>
<link href="https://cdn.jsdelivr.net/npm/@mdi/font@6.x/css/materialdesignicons.min.css" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/vue@2.x/dist/vue.js"></script>
    <link href="https://cdn.jsdelivr.net/npm/@mdi/font@6.x/css/materialdesignicons.min.css" rel="stylesheet">

    <script src="https://cdn.jsdelivr.net/npm/vuetify@2.x/dist/vuetify.js"></script>

    <script>
        new Vue({
            el:'#tabla',
            data:{
                rowsCreated: [],
            },
            methods: {
                showMenu: function (event) {
                    document.getElementById("menu-"+event.name).hidden=!document.getElementById("menu-"+event.name).hidden;
                },
                sleeped: function (event) {
                    event.sleep++;
                },
                newEmoji: function (event) {
                    event.emoji=getEmoji();
                },
                deletef: function (event) {
                    this.showMenu(event);
                    this.rowsCreated=this.rowsCreated.filter( element => event.name != element.name)
                },
                upTop: function (event) {
                    this.showMenu(event);
                    const fromIndex = this.rowsCreated.indexOf(event); // ðŸ‘‰ï¸ 0
                    const toIndex = this.rowsCreated.indexOf(event)-1;

                    const element = this.rowsCreated.splice(fromIndex, 1)[0];
       

                    this.rowsCreated.splice(toIndex, 0, element);
                },
                first: function (event) {
                    this.showMenu(event);
                    const fromIndex = this.rowsCreated.indexOf(event); // ðŸ‘‰ï¸ 0
                    const toIndex = 0;

                    const element = this.rowsCreated.splice(fromIndex, 1)[0];
       

                    this.rowsCreated.splice(toIndex, 0, element);
                },
                downBot: function (event) {
                    this.showMenu(event);
                    const fromIndex = this.rowsCreated.indexOf(event); // ðŸ‘‰ï¸ 0
                    const toIndex = this.rowsCreated.indexOf(event)+1;

                    const element = this.rowsCreated.splice(fromIndex, 1)[0];
       

                    this.rowsCreated.splice(toIndex, 0, element);
                },
                last: function (event) {
                    this.showMenu(event);
                    const fromIndex = this.rowsCreated.indexOf(event); // ðŸ‘‰ï¸ 0
                    const toIndex = this.rowsCreated.length-1;

                    const element = this.rowsCreated.splice(fromIndex, 1)[0];
       

                    this.rowsCreated.splice(toIndex, 0, element);
                }
            },
            created: function(){
                fetch('https://naghost-dev.github.io/people.json')
                .then(response => response.json())
                .then(data => {
                    let names=shuffle(data);
                    let arrayAux=[];
                    names.forEach(element => {
                        arrayAux.push({name:element, emoji:getEmoji(), sleep:0})
                    });
                    this.rowsCreated=arrayAux;
            });
            }
        });
        
        //Necesary not, but.. its fun! :D
        var emojis = ['ðŸ˜„','ðŸ˜ƒ','ðŸ˜€','ðŸ˜Š','ðŸ˜‰','ðŸ˜','ðŸ˜˜','ðŸ˜š','ðŸ˜—','ðŸ˜™','ðŸ˜œ','ðŸ˜','ðŸ˜›',
        'ðŸ˜³','ðŸ˜','ðŸ˜”','ðŸ˜Œ','ðŸ˜’','ðŸ˜ž','ðŸ˜£','ðŸ˜¢','ðŸ˜‚','ðŸ˜­','ðŸ˜ª','ðŸ˜¥','ðŸ˜°','ðŸ˜…','ðŸ˜“','ðŸ˜©',
        'ðŸ˜«','ðŸ˜¨','ðŸ˜±','ðŸ˜ ','ðŸ˜¡','ðŸ˜¤','ðŸ˜–','ðŸ˜†','ðŸ˜‹','ðŸ˜·','ðŸ˜Ž','ðŸ˜´','ðŸ˜µ','ðŸ˜²','ðŸ˜Ÿ','ðŸ˜¦',
        'ðŸ˜§','ðŸ˜ˆ','ðŸ‘¿','ðŸ˜®','ðŸ˜¬','ðŸ˜','ðŸ˜•','ðŸ˜¯','ðŸ˜¶','ðŸ˜‡','ðŸ˜','ðŸ˜‘','ðŸ‘²','ðŸ‘³','ðŸ‘®','ðŸ‘·',
        'ðŸ’‚','ðŸ‘¶','ðŸ‘¦','ðŸ‘§','ðŸ‘¨','ðŸ‘©','ðŸ‘´','ðŸ‘µ','ðŸ‘±','ðŸ‘¼','ðŸ‘¸','ðŸ˜º','ðŸ˜¸','ðŸ˜»','ðŸ˜½','ðŸ˜¼',
        'ðŸ™€','ðŸ˜¿','ðŸ˜¹','ðŸ˜¾','ðŸ‘¹','ðŸ‘º','ðŸ™ˆ','ðŸ™‰','ðŸ™Š','ðŸ’€','ðŸ‘½','ðŸ’©','ðŸ”¥','âœ¨','ðŸŒŸ','ðŸ’«',
        'ðŸ’¥','ðŸ’¢','ðŸ’¦','ðŸ’§','ðŸ’¤','ðŸ’¨','ðŸ‘‚','ðŸ‘€','ðŸ‘ƒ','ðŸ‘…','ðŸ‘„','ðŸ‘','ðŸ‘Ž','ðŸ‘Œ','ðŸ‘Š','âœŠ',
        'âœŒ','ðŸ‘‹','âœ‹','ðŸ‘','ðŸ‘†','ðŸ‘‡','ðŸ‘‰','ðŸ‘ˆ','ðŸ™Œ','ðŸ™','â˜','ðŸ‘','ðŸ’ª','ðŸš¶','ðŸƒ','ðŸ’ƒ',
        'ðŸ‘«','ðŸ‘ª','ðŸ‘¬','ðŸ‘­','ðŸ’','ðŸ’‘','ðŸ‘¯','ðŸ™†','ðŸ™…','ðŸ’','ðŸ™‹','ðŸ’†','ðŸ’‡','ðŸ’…','ðŸ‘°','ðŸ™Ž',
        'ðŸ™','ðŸ™‡','ðŸŽ©','ðŸ‘‘','ðŸ‘’','ðŸ‘Ÿ','ðŸ‘ž','ðŸ‘¡','ðŸ‘ ','ðŸ‘¢','ðŸ‘•','ðŸ‘”','ðŸ‘š','ðŸ‘—','ðŸŽ½','ðŸ‘–',
        'ðŸ‘˜','ðŸ‘™','ðŸ’¼','ðŸ‘œ','ðŸ‘','ðŸ‘›','ðŸ‘“','ðŸŽ€','ðŸŒ‚','ðŸ’„','ðŸ’›','ðŸ’™','ðŸ’œ','ðŸ’š','â¤','ðŸ’”',
        'ðŸ’—','ðŸ’“','ðŸ’•','ðŸ’–','ðŸ’ž','ðŸ’˜','ðŸ’Œ','ðŸ’‹','ðŸ’','ðŸ’Ž','ðŸ‘¤','ðŸ‘¥','ðŸ’¬','ðŸ‘£','ðŸ’­','ðŸ¶',
        'ðŸº','ðŸ±','ðŸ­','ðŸ¹','ðŸ°','ðŸ¸','ðŸ¯','ðŸ¨','ðŸ»','ðŸ·','ðŸ½','ðŸ®','ðŸ—','ðŸµ','ðŸ’','ðŸ´',
        'ðŸ‘','ðŸ˜','ðŸ¼','ðŸ§','ðŸ¦','ðŸ¤','ðŸ¥','ðŸ£','ðŸ”','ðŸ','ðŸ¢','ðŸ›','ðŸ','ðŸœ','ðŸž','ðŸŒ',
        'ðŸ™','ðŸš','ðŸ ','ðŸŸ','ðŸ¬','ðŸ³','ðŸ‹','ðŸ„','ðŸ','ðŸ€','ðŸƒ','ðŸ…','ðŸ‡','ðŸ‰','ðŸŽ','ðŸ',
        'ðŸ“','ðŸ•','ðŸ–','ðŸ','ðŸ‚','ðŸ²','ðŸ¡','ðŸŠ','ðŸ«','ðŸª','ðŸ†','ðŸˆ','ðŸ©','ðŸ¾','ðŸ’','ðŸŒ¸',
        'ðŸŒ·','ðŸ€','ðŸŒ¹','ðŸŒ»','ðŸŒº','ðŸ','ðŸƒ','ðŸ‚','ðŸŒ¿','ðŸŒ¾','ðŸ„','ðŸŒµ','ðŸŒ´','ðŸŒ²','ðŸŒ³','ðŸŒ°',
        'ðŸŒ±','ðŸŒ¼','ðŸŒ','ðŸŒž','ðŸŒ','ðŸŒš','ðŸŒ‘','ðŸŒ’','ðŸŒ“','ðŸŒ”','ðŸŒ•','ðŸŒ–','ðŸŒ—','ðŸŒ˜','ðŸŒœ','ðŸŒ›',
        'ðŸŒ™','ðŸŒ','ðŸŒŽ','ðŸŒ','ðŸŒ‹','ðŸŒŒ','ðŸŒ ','â­','â˜€','â›…','â˜','âš¡','â˜”','â„','â›„','ðŸŒ€','ðŸŒ',
        'ðŸŒˆ','ðŸŒŠ','ðŸŽ','ðŸ’','ðŸŽŽ','ðŸŽ’','ðŸŽ“','ðŸŽ','ðŸŽ†','ðŸŽ‡','ðŸŽ','ðŸŽ‘','ðŸŽƒ','ðŸ‘»','ðŸŽ…','ðŸŽ„',
        'ðŸŽ','ðŸŽ‹','ðŸŽ‰','ðŸŽŠ','ðŸŽˆ','ðŸŽŒ','ðŸ”®','ðŸŽ¥','ðŸ“·','ðŸ“¹','ðŸ“¼','ðŸ’¿','ðŸ“€','ðŸ’½','ðŸ’¾','ðŸ’»'
        ];
        
        //var emojis = ['ðŸµ','ðŸ’','ðŸ™ˆ','ðŸ™‰','ðŸ™Š'];

        function getEmoji(){
            return emojis[Math.floor(Math.random() * emojis.length)]
        }
       
        function shuffle(a) {
            for (let i = a.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [a[i], a[j]] = [a[j], a[i]];
            }
            return a;
        }
    </script>
</body>
</html>
